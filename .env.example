# LifeGraph Environment Variables
# Copy this file to .env and fill in your values

# =============================================================================
# REQUIRED - Must be set for production
# =============================================================================

# Database
DB_PASSWORD=lifegraph

# Django Secret Key (generate with: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())")
SECRET_KEY=your-secret-key-here-change-in-production

# MinIO Object Storage
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin

# Field Encryption Key (Fernet/AES-128-CBC) - for SALT_KEY
# Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
# CRITICAL: Back this up! Data encrypted with this key cannot be recovered without it.
# For key rotation, add new key first, old key second (comma-separated): NEW_KEY,OLD_KEY
FERNET_KEYS=

# Field Encryption Key (AES-GCM) - for FIELD_ENCRYPTION_KEYS
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
# CRITICAL: Required for production! Without this, encrypted fields won't work.
# Must be 64 hex characters (32 bytes). Back this up - data is unrecoverable without it.
FIELD_ENCRYPTION_KEYS=

# =============================================================================
# PRODUCTION - Required for production deployment
# =============================================================================

# Allowed hosts (comma-separated, e.g., lifegraph.example.com,www.lifegraph.example.com)
ALLOWED_HOSTS=localhost,127.0.0.1

# CORS allowed origins (comma-separated, e.g., https://lifegraph.example.com)
CORS_ALLOWED_ORIGINS=

# CSRF trusted origins (comma-separated, e.g., https://lifegraph.example.com)
CSRF_TRUSTED_ORIGINS=

# SSL redirect (set to false if using external reverse proxy for SSL)
SECURE_SSL_REDIRECT=true

# =============================================================================
# AUTHENTICATION - OAuth2 / Authentik (optional)
# =============================================================================

OAUTH2_CLIENT_ID=
OAUTH2_CLIENT_SECRET=
OAUTH2_SERVER_URL=

# =============================================================================
# MFA ENFORCEMENT (optional)
# =============================================================================

# Set to true to require MFA verification for users who have it enabled
# Users without MFA will still be able to access, but should be prompted to set it up
MFA_REQUIRED=false

# =============================================================================
# AI FEATURES - OpenAI (optional, required for AI features)
# =============================================================================

OPENAI_API_KEY=

# =============================================================================
# INTEGRATIONS - Optional
# =============================================================================

# LinkedIn Integration
# SECURITY WARNING: Uses unofficial API with account credentials.
# - Use a DEDICATED LinkedIn account, never your personal account
# - The account may be restricted or banned by LinkedIn for scraping
# - Only enable when actively needed
# - Consider using LinkedIn's official API for production use cases
LINKEDIN_ENABLED=false
LINKEDIN_EMAIL=
LINKEDIN_PASSWORD=

# =============================================================================
# EMAIL - Production (optional)
# =============================================================================

EMAIL_HOST=
EMAIL_PORT=587
EMAIL_HOST_USER=
EMAIL_HOST_PASSWORD=

# =============================================================================
# RATE LIMITING - Production (optional, with defaults)
# =============================================================================

# Enable/disable rate limiting (default: true)
RATELIMIT_ENABLE=true

# Rate limits (format: requests/period, e.g., 100/m = 100 per minute)
RATELIMIT_API_DEFAULT=100/m
RATELIMIT_API_AI=10/m
RATELIMIT_API_UPLOAD=20/m
RATELIMIT_LOGIN=5/m
